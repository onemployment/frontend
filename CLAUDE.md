# Frontend Repository - Implementation Guide

## Repository Context

**Purpose**: React/TypeScript user interface providing modern, responsive UI for job seekers and employers
**Current Status**: üèóÔ∏è In development with React 19 and modern toolchain
**Key Technologies**: React 19, TypeScript, Redux Toolkit, Vite, Tailwind CSS, Framer Motion, React Query

**Production Environment**:

- **Live Frontend**: https://www.onemployment.org (S3 + CloudFront)
- **Build Target**: Static site generated by Vite for optimal performance
- **Deployment**: Automated via GitHub Actions to S3 with CloudFront invalidation

## Development Environment

### Local Setup Commands

```bash
# Install dependencies
npm install

# Start development server with hot reload
npm run dev                # Vite dev server at http://localhost:5173

# Build and preview production bundle
npm run build              # Production build to dist/
npm run preview            # Preview production build locally
```

### Development Tools

```bash
# Code quality and validation
npm run lint               # ESLint validation
npm run lint:fix           # Auto-fix ESLint issues
npm run type-check         # TypeScript compilation check
npm run format             # Prettier code formatting

# Testing (when implemented)
npm run test               # Unit tests with React Testing Library
npm run test:e2e           # End-to-end tests with Playwright
```

### Required Validation Sequence Before Committing

```bash
npm run lint               # ESLint validation
npm run type-check         # TypeScript compilation
npm run build              # Production build verification
npm run test               # Unit tests (when available)
```

## Architecture & Patterns

### Project Structure

```
src/
‚îú‚îÄ‚îÄ components/            # Reusable UI components
‚îÇ   ‚îú‚îÄ‚îÄ ui/               # Basic UI components (buttons, inputs, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ forms/            # Form components with validation
‚îÇ   ‚îú‚îÄ‚îÄ layout/           # Layout components (header, footer, nav)
‚îÇ   ‚îî‚îÄ‚îÄ features/         # Feature-specific components
‚îú‚îÄ‚îÄ pages/                # Route-based page components
‚îú‚îÄ‚îÄ hooks/                # Custom React hooks
‚îú‚îÄ‚îÄ store/                # Redux Toolkit store configuration
‚îÇ   ‚îú‚îÄ‚îÄ slices/           # Redux slices for different features
‚îÇ   ‚îî‚îÄ‚îÄ api/              # RTK Query API endpoints
‚îú‚îÄ‚îÄ utils/                # Utility functions and helpers
‚îú‚îÄ‚îÄ types/                # TypeScript type definitions
‚îú‚îÄ‚îÄ styles/               # Global styles and Tailwind configuration
‚îî‚îÄ‚îÄ App.tsx               # Root application component
```

### Design Patterns Applied

#### Component Architecture

- **Container/Presentational Pattern**: Separate data logic from presentation
- **Custom Hooks**: Extract reusable stateful logic
- **Component Composition**: Favor composition over inheritance
- **Render Props**: Share code between components using render props pattern

#### State Management

- **Redux Toolkit**: Global state management with standardized patterns
- **RTK Query**: Data fetching and caching with automatic background updates
- **Local Component State**: Use React useState for component-specific state
- **Context API**: Share data across component tree without prop drilling

#### Code Organization Principles

- **Single Responsibility**: Each component has one clear purpose
- **Open/Closed**: Components open for extension, closed for modification
- **Dependency Inversion**: Depend on abstractions, not concrete implementations
- **Interface Segregation**: Small, focused interfaces rather than large ones

### Modern React Patterns

- **Function Components**: Use function components with hooks exclusively
- **TypeScript Integration**: Full type safety with strict TypeScript configuration
- **Error Boundaries**: Graceful error handling with error boundary components
- **Suspense**: Loading states with React Suspense for better UX
- **Code Splitting**: Lazy loading with dynamic imports for performance

## Testing Strategy

### Testing Approach (Planned Implementation)

- **Unit Tests**: React Testing Library for component testing
- **Integration Tests**: Test component interactions and data flow
- **End-to-End Tests**: Playwright for full user workflow testing
- **Visual Regression**: Snapshot testing for UI consistency

### Testing Guidelines

- **Test Behavior**: Focus on what the component does, not how it does it
- **User-Centric**: Test from user's perspective using screen readers and user events
- **Mock External Dependencies**: Mock API calls and external services
- **Test Accessibility**: Ensure components work with screen readers and keyboard navigation

## Deployment Context

### Production Infrastructure

- **Hosting**: AWS S3 static website hosting
- **CDN**: CloudFront distribution for global content delivery
- **SSL/TLS**: Automatic HTTPS via CloudFront
- **Custom Domain**: https://www.onemployment.org with Route 53 DNS

### Automated Deployment Pipeline

**Trigger**: Push to main branch
**Pipeline Steps**:

1. Install dependencies (`npm ci`)
2. ESLint validation (`npm run lint`)
3. TypeScript compilation (`npm run type-check`)
4. Production build (`npm run build`)
5. Unit tests (`npm run test`) - when implemented
6. Deploy to S3 (`aws s3 sync dist/ s3://bucket`)
7. CloudFront cache invalidation

### Build Optimization

- **Vite Configuration**: Optimized bundling with code splitting
- **Asset Optimization**: Image optimization and lazy loading
- **Bundle Analysis**: Tree shaking and dead code elimination
- **Performance Monitoring**: Core Web Vitals tracking and optimization

## AI Agent Instructions

### Before Starting Frontend Development

1. **Read planning context**: Start from [`onemployment-planning/CLAUDE.md`](https://github.com/onemployment/onemployment-planning/blob/main/CLAUDE.md)
2. **Understand the task**: Review Feature Request and Technical Design issues
3. **Set up environment**: Run `npm install && npm run dev` for local development
4. **Verify build**: Check `npm run build` succeeds before starting development

### Development Workflow

1. **Follow component patterns**: Use existing components in `src/components/` as reference
2. **Implement responsive design**: Use Tailwind CSS with mobile-first approach
3. **Add type safety**: Define TypeScript interfaces for all props and data
4. **Handle loading states**: Implement proper loading and error states for async operations
5. **Follow validation sequence**: lint ‚Üí type-check ‚Üí build ‚Üí test before committing

### Component Development Patterns

- **Props Interface**: Define clear TypeScript interfaces for all component props
- **Default Props**: Use destructuring with default values instead of defaultProps
- **Event Handling**: Use proper event types (React.MouseEvent, React.FormEvent)
- **Styling**: Use Tailwind CSS classes with conditional styling patterns
- **Accessibility**: Include ARIA labels, semantic HTML, and keyboard navigation

### State Management Guidelines

- **Local State**: Use `useState` for component-specific state
- **Global State**: Use Redux Toolkit slices for shared application state
- **Server State**: Use RTK Query for API data fetching and caching
- **Form State**: Use controlled components with proper validation
- **URL State**: Use React Router for navigation state management

### API Integration

- **RTK Query**: Define API endpoints in `src/store/api/` directory
- **Error Handling**: Implement proper error boundaries and user feedback
- **Loading States**: Show loading indicators for async operations
- **Authentication**: Integrate with backend JWT token authentication
- **Data Validation**: Validate API responses with TypeScript types

### Performance Considerations

- **Code Splitting**: Use React.lazy() for route-based code splitting
- **Memoization**: Use React.memo, useMemo, useCallback appropriately
- **Bundle Size**: Monitor bundle size and avoid unnecessary dependencies
- **Image Optimization**: Implement lazy loading and responsive images
- **Accessibility**: Ensure keyboard navigation and screen reader compatibility

## Quick Reference

### Common Development Commands

```bash
npm run dev               # Start development server
npm run build             # Production build
npm run preview           # Preview production build
npm run lint              # Run ESLint
npm run type-check        # TypeScript validation
npm run format            # Format code with Prettier
```

### Key File Locations

```bash
src/App.tsx               # Main application component
src/main.tsx              # Application entry point
src/components/ui/        # Reusable UI components
src/store/                # Redux store configuration
tailwind.config.js        # Tailwind CSS configuration
vite.config.ts            # Vite build configuration
```

### Development URLs

```bash
http://localhost:5173     # Vite development server
https://www.onemployment.org  # Production deployment
```

### Debugging & Troubleshooting

- **Build Errors**: Check TypeScript compilation with `npm run type-check`
- **Styling Issues**: Verify Tailwind CSS classes and configuration
- **State Issues**: Use Redux DevTools browser extension
- **Network Issues**: Check browser DevTools Network tab for API calls
- **Performance Issues**: Use React DevTools Profiler

### Production Debugging

- **Deployment Issues**: Check GitHub Actions workflow for build failures
- **CloudFront**: Monitor CloudFront distribution and cache invalidation
- **S3 Bucket**: Verify static files are uploaded correctly
- **DNS Issues**: Check Route 53 configuration and SSL certificate status

---

**Integration with Planning**: Always reference issues from [`onemployment-planning`](https://github.com/onemployment/onemployment-planning) repository using format: `Epic: onemployment-planning#X`, `Design: onemployment-planning#Y`
